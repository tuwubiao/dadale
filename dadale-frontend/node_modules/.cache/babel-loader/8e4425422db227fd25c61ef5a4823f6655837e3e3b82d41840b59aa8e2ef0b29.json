{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { defineComponent, toRefs, computed, ref, watch, nextTick, watchEffect, createVNode, mergeProps, isVNode } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { isUndefined, isObject, isFunction, isArray, isNumber, isString, isBoolean, isNull, isEmptyObject } from \"../_utils/is.js\";\nimport { getKeyFromValue, isGroupOptionInfo, isValidOption, hasEmptyStringKey } from \"./utils.js\";\nimport Trigger from \"../trigger/index.js\";\nimport SelectView from \"../_components/select-view/select-view.js\";\nimport SelectDropdown from \"./select-dropdown.js\";\nimport Option from \"./option.js\";\nimport Optgroup from \"./optgroup.js\";\nimport VirtualList from \"../_components/virtual-list-v2/virtual-list.js\";\nimport { useSelect } from \"./hooks/use-select.js\";\nimport { useTrigger } from \"../_hooks/use-trigger.js\";\nimport { useFormItem } from \"../_hooks/use-form-item.js\";\nimport { debounce } from \"../_utils/debounce.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nconst DEFAULT_FIELD_NAMES = {\n  value: \"value\",\n  label: \"label\",\n  disabled: \"disabled\",\n  tagProps: \"tagProps\",\n  render: \"render\"\n};\nvar _Select = defineComponent({\n  name: \"Select\",\n  components: {\n    Trigger,\n    SelectView\n  },\n  inheritAttrs: false,\n  props: {\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    modelValue: {\n      type: [String, Number, Boolean, Object, Array],\n      default: void 0\n    },\n    defaultValue: {\n      type: [String, Number, Boolean, Object, Array],\n      default: props => isUndefined(props.multiple) ? \"\" : []\n    },\n    inputValue: {\n      type: String\n    },\n    defaultInputValue: {\n      type: String,\n      default: \"\"\n    },\n    size: {\n      type: String\n    },\n    placeholder: String,\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    error: {\n      type: Boolean,\n      default: false\n    },\n    allowClear: {\n      type: Boolean,\n      default: false\n    },\n    allowSearch: {\n      type: [Boolean, Object],\n      default: props => Boolean(props.multiple)\n    },\n    allowCreate: {\n      type: Boolean,\n      default: false\n    },\n    maxTagCount: {\n      type: Number,\n      default: 0\n    },\n    popupContainer: {\n      type: [String, Object]\n    },\n    bordered: {\n      type: Boolean,\n      default: true\n    },\n    defaultActiveFirstOption: {\n      type: Boolean,\n      default: true\n    },\n    popupVisible: {\n      type: Boolean,\n      default: void 0\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    unmountOnClose: {\n      type: Boolean,\n      default: false\n    },\n    filterOption: {\n      type: [Boolean, Function],\n      default: true\n    },\n    options: {\n      type: Array,\n      default: () => []\n    },\n    virtualListProps: {\n      type: Object\n    },\n    triggerProps: {\n      type: Object\n    },\n    formatLabel: {\n      type: Function\n    },\n    fallbackOption: {\n      type: [Boolean, Function],\n      default: true\n    },\n    showExtraOptions: {\n      type: Boolean,\n      default: true\n    },\n    valueKey: {\n      type: String,\n      default: \"value\"\n    },\n    searchDelay: {\n      type: Number,\n      default: 500\n    },\n    limit: {\n      type: Number,\n      default: 0\n    },\n    fieldNames: {\n      type: Object\n    },\n    scrollbar: {\n      type: [Boolean, Object],\n      default: true\n    },\n    showHeaderOnEmpty: {\n      type: Boolean,\n      default: false\n    },\n    showFooterOnEmpty: {\n      type: Boolean,\n      default: false\n    },\n    tagNowrap: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: {\n    \"update:modelValue\": value => true,\n    \"update:inputValue\": inputValue => true,\n    \"update:popupVisible\": visible => true,\n    \"change\": value => true,\n    \"inputValueChange\": inputValue => true,\n    \"popupVisibleChange\": visible => true,\n    \"clear\": ev => true,\n    \"remove\": removed => true,\n    \"search\": inputValue => true,\n    \"dropdownScroll\": ev => true,\n    \"dropdownReachBottom\": ev => true,\n    \"exceedLimit\": (value, ev) => true\n  },\n  setup(props, {\n    slots,\n    emit,\n    attrs\n  }) {\n    const {\n      size,\n      disabled,\n      error,\n      options,\n      filterOption,\n      valueKey,\n      multiple,\n      popupVisible,\n      defaultPopupVisible,\n      showExtraOptions,\n      modelValue,\n      fieldNames,\n      loading,\n      defaultActiveFirstOption\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"select\");\n    const {\n      mergedSize,\n      mergedDisabled,\n      mergedError,\n      eventHandlers\n    } = useFormItem({\n      size,\n      disabled,\n      error\n    });\n    const component = computed(() => props.virtualListProps ? \"div\" : \"li\");\n    const retainInputValue = computed(() => isObject(props.allowSearch) && Boolean(props.allowSearch.retainInputValue));\n    computed(() => {\n      if (isFunction(props.formatLabel)) {\n        return data => {\n          const optionInfo = optionInfoMap.get(data.value);\n          return props.formatLabel(optionInfo);\n        };\n      }\n      return void 0;\n    });\n    const dropdownRef = ref();\n    const optionRefs = ref({});\n    const virtualListRef = ref();\n    const {\n      computedPopupVisible,\n      handlePopupVisibleChange\n    } = useTrigger({\n      popupVisible,\n      defaultPopupVisible,\n      emit\n    });\n    const _value = ref(props.defaultValue);\n    const computedValueObjects = computed(() => {\n      var _a;\n      const mergedValue = (_a = props.modelValue) != null ? _a : _value.value;\n      const valueArray = isArray(mergedValue) ? mergedValue : mergedValue || isNumber(mergedValue) || isString(mergedValue) || isBoolean(mergedValue) ? [mergedValue] : [];\n      return valueArray.map(value => ({\n        value,\n        key: getKeyFromValue(value, props.valueKey)\n      }));\n    });\n    watch(modelValue, value => {\n      if (isUndefined(value) || isNull(value)) {\n        _value.value = multiple.value ? [] : value;\n      }\n    });\n    const computedValueKeys = computed(() => computedValueObjects.value.map(obj => obj.key));\n    const mergedFieldNames = computed(() => __spreadValues(__spreadValues({}, DEFAULT_FIELD_NAMES), fieldNames == null ? void 0 : fieldNames.value));\n    const _selectedOption = ref();\n    const getRawOptionFromValueKeys = valueKeys => {\n      const optionMap = {};\n      valueKeys.forEach(key => {\n        optionMap[key] = optionInfoMap.get(key);\n      });\n      return optionMap;\n    };\n    const updateSelectedOption = valueKeys => {\n      _selectedOption.value = getRawOptionFromValueKeys(valueKeys);\n    };\n    const getFallBackOption = value => {\n      if (isFunction(props.fallbackOption)) {\n        return props.fallbackOption(value);\n      }\n      return {\n        [mergedFieldNames.value.value]: value,\n        [mergedFieldNames.value.label]: String(isObject(value) ? value[valueKey == null ? void 0 : valueKey.value] : value)\n      };\n    };\n    const getExtraValueData = () => {\n      const valueArray = [];\n      const keyArray = [];\n      if (props.allowCreate || props.fallbackOption) {\n        for (const item of computedValueObjects.value) {\n          if (!keyArray.includes(item.key) && item.value !== \"\") {\n            const optionInfo = optionInfoMap.get(item.key);\n            if (!optionInfo || optionInfo.origin === \"extraOptions\") {\n              valueArray.push(item);\n              keyArray.push(item.key);\n            }\n          }\n        }\n      }\n      if (props.allowCreate && computedInputValue.value) {\n        const key = getKeyFromValue(computedInputValue.value);\n        if (!keyArray.includes(key)) {\n          const optionInfo = optionInfoMap.get(key);\n          if (!optionInfo || optionInfo.origin === \"extraOptions\") {\n            valueArray.push({\n              value: computedInputValue.value,\n              key\n            });\n          }\n        }\n      }\n      return valueArray;\n    };\n    const extraValueObjects = ref([]);\n    const extraOptions = computed(() => extraValueObjects.value.map(obj => {\n      var _a;\n      let optionInfo = getFallBackOption(obj.value);\n      const extraOptionRawInfo = (_a = _selectedOption.value) == null ? void 0 : _a[obj.key];\n      if (!isUndefined(extraOptionRawInfo) && !isEmptyObject(extraOptionRawInfo)) {\n        optionInfo = __spreadValues(__spreadValues({}, optionInfo), extraOptionRawInfo);\n      }\n      return optionInfo;\n    }));\n    nextTick(() => {\n      watchEffect(() => {\n        var _a;\n        const valueData = getExtraValueData();\n        if (valueData.length !== extraValueObjects.value.length) {\n          extraValueObjects.value = valueData;\n        } else if (valueData.length > 0) {\n          for (let i = 0; i < valueData.length; i++) {\n            if (valueData[i].key !== ((_a = extraValueObjects.value[i]) == null ? void 0 : _a.key)) {\n              extraValueObjects.value = valueData;\n              break;\n            }\n          }\n        }\n      });\n    });\n    const _inputValue = ref(\"\");\n    const computedInputValue = computed(() => {\n      var _a;\n      return (_a = props.inputValue) != null ? _a : _inputValue.value;\n    });\n    watch(computedPopupVisible, visible => {\n      if (!visible && !retainInputValue.value && computedInputValue.value) {\n        updateInputValue(\"\");\n      }\n    });\n    const getValueFromValueKeys = valueKeys => {\n      var _a, _b;\n      if (!props.multiple) {\n        return (_b = (_a = optionInfoMap.get(valueKeys[0])) == null ? void 0 : _a.value) != null ? _b : hasEmptyStringKey(optionInfoMap) ? void 0 : \"\";\n      }\n      return valueKeys.map(key => {\n        var _a2, _b2;\n        return (_b2 = (_a2 = optionInfoMap.get(key)) == null ? void 0 : _a2.value) != null ? _b2 : \"\";\n      });\n    };\n    const updateValue = valueKeys => {\n      var _a, _b;\n      const value = getValueFromValueKeys(valueKeys);\n      _value.value = value;\n      emit(\"update:modelValue\", value);\n      emit(\"change\", value);\n      (_b = (_a = eventHandlers.value) == null ? void 0 : _a.onChange) == null ? void 0 : _b.call(_a);\n      updateSelectedOption(valueKeys);\n    };\n    const updateInputValue = inputValue => {\n      _inputValue.value = inputValue;\n      emit(\"update:inputValue\", inputValue);\n      emit(\"inputValueChange\", inputValue);\n    };\n    const handleSelect = (key, ev) => {\n      if (props.multiple) {\n        if (!computedValueKeys.value.includes(key)) {\n          if (enabledOptionKeys.value.includes(key)) {\n            if (props.limit > 0 && computedValueKeys.value.length >= props.limit) {\n              const info = optionInfoMap.get(key);\n              emit(\"exceedLimit\", info == null ? void 0 : info.value, ev);\n            } else {\n              const valueKeys = computedValueKeys.value.concat(key);\n              updateValue(valueKeys);\n            }\n          }\n        } else {\n          const valueKeys = computedValueKeys.value.filter(_key => _key !== key);\n          updateValue(valueKeys);\n        }\n        if (!retainInputValue.value) {\n          updateInputValue(\"\");\n        }\n      } else {\n        if (key !== computedValueKeys.value[0]) {\n          updateValue([key]);\n        }\n        if (retainInputValue.value) {\n          const optionInfo = optionInfoMap.get(key);\n          if (optionInfo) {\n            updateInputValue(optionInfo.label);\n          }\n        }\n        handlePopupVisibleChange(false);\n      }\n    };\n    const handleSearch = debounce(value => {\n      emit(\"search\", value);\n    }, props.searchDelay);\n    const handleInputValueChange = inputValue => {\n      if (inputValue !== computedInputValue.value) {\n        if (!computedPopupVisible.value) {\n          handlePopupVisibleChange(true);\n        }\n        updateInputValue(inputValue);\n        if (props.allowSearch) {\n          handleSearch(inputValue);\n        }\n      }\n    };\n    const handleRemove = key => {\n      const optionInfo = optionInfoMap.get(key);\n      const newKeys = computedValueKeys.value.filter(_key => _key !== key);\n      updateValue(newKeys);\n      emit(\"remove\", optionInfo == null ? void 0 : optionInfo.value);\n    };\n    const handleClear = e => {\n      e == null ? void 0 : e.stopPropagation();\n      const newKeys = computedValueKeys.value.filter(key => {\n        var _a;\n        return (_a = optionInfoMap.get(key)) == null ? void 0 : _a.disabled;\n      });\n      updateValue(newKeys);\n      updateInputValue(\"\");\n      emit(\"clear\", e);\n    };\n    const handleDropdownScroll = e => {\n      emit(\"dropdownScroll\", e);\n    };\n    const handleDropdownReachBottom = e => {\n      emit(\"dropdownReachBottom\", e);\n    };\n    const {\n      validOptions,\n      optionInfoMap,\n      validOptionInfos,\n      enabledOptionKeys,\n      handleKeyDown\n    } = useSelect({\n      multiple,\n      options,\n      extraOptions,\n      inputValue: computedInputValue,\n      filterOption,\n      showExtraOptions,\n      component,\n      valueKey,\n      fieldNames,\n      loading,\n      popupVisible: computedPopupVisible,\n      valueKeys: computedValueKeys,\n      dropdownRef,\n      optionRefs,\n      virtualListRef,\n      defaultActiveFirstOption,\n      onSelect: handleSelect,\n      onPopupVisibleChange: handlePopupVisibleChange\n    });\n    const selectViewValue = computed(() => {\n      var _a;\n      const result = [];\n      for (const item of computedValueObjects.value) {\n        const optionInfo = optionInfoMap.get(item.key);\n        if (optionInfo) {\n          result.push(__spreadProps(__spreadValues({}, optionInfo), {\n            value: item.key,\n            label: (_a = optionInfo == null ? void 0 : optionInfo.label) != null ? _a : String(isObject(item.value) ? item.value[valueKey == null ? void 0 : valueKey.value] : item.value),\n            closable: !(optionInfo == null ? void 0 : optionInfo.disabled),\n            tagProps: optionInfo == null ? void 0 : optionInfo.tagProps\n          }));\n        }\n      }\n      return result;\n    });\n    const getOptionContentFunc = optionInfo => {\n      if (isFunction(slots.option)) {\n        const optionSlot = slots.option;\n        return () => optionSlot({\n          data: optionInfo.raw\n        });\n      }\n      if (isFunction(optionInfo.render)) {\n        return optionInfo.render;\n      }\n      return () => optionInfo.label;\n    };\n    const renderOption = optionInfo => {\n      if (isGroupOptionInfo(optionInfo)) {\n        let _slot;\n        return createVNode(Optgroup, {\n          \"key\": optionInfo.key,\n          \"label\": optionInfo.label\n        }, _isSlot(_slot = optionInfo.options.map(child => renderOption(child))) ? _slot : {\n          default: () => [_slot]\n        });\n      }\n      if (!isValidOption(optionInfo, {\n        inputValue: computedInputValue.value,\n        filterOption: filterOption == null ? void 0 : filterOption.value\n      })) {\n        return null;\n      }\n      return createVNode(Option, {\n        \"ref\": ref2 => {\n          if (ref2 == null ? void 0 : ref2.$el) {\n            optionRefs.value[optionInfo.key] = ref2.$el;\n          }\n        },\n        \"key\": optionInfo.key,\n        \"value\": optionInfo.value,\n        \"label\": optionInfo.label,\n        \"disabled\": optionInfo.disabled,\n        \"internal\": true\n      }, {\n        default: getOptionContentFunc(optionInfo)\n      });\n    };\n    const renderDropDown = () => {\n      return createVNode(SelectDropdown, {\n        \"ref\": dropdownRef,\n        \"loading\": props.loading,\n        \"empty\": validOptionInfos.value.length === 0,\n        \"virtualList\": Boolean(props.virtualListProps),\n        \"scrollbar\": props.scrollbar,\n        \"showHeaderOnEmpty\": props.showHeaderOnEmpty,\n        \"showFooterOnEmpty\": props.showFooterOnEmpty,\n        \"onScroll\": handleDropdownScroll,\n        \"onReachBottom\": handleDropdownReachBottom\n      }, {\n        \"default\": () => {\n          var _a, _b;\n          return [...((_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : []), ...validOptions.value.map(renderOption)];\n        },\n        \"virtual-list\": () => createVNode(VirtualList, mergeProps(props.virtualListProps, {\n          \"ref\": virtualListRef,\n          \"data\": validOptions.value\n        }), {\n          item: ({\n            item\n          }) => renderOption(item)\n        }),\n        \"empty\": slots.empty,\n        \"header\": slots.header,\n        \"footer\": slots.footer\n      });\n    };\n    const renderLabel = ({\n      data\n    }) => {\n      var _a, _b, _c, _d;\n      if ((slots.label || isFunction(props.formatLabel)) && data) {\n        const optionInfo = optionInfoMap.get(data.value);\n        if (optionInfo == null ? void 0 : optionInfo.raw) {\n          return (_c = (_a = slots.label) == null ? void 0 : _a.call(slots, {\n            data: optionInfo.raw\n          })) != null ? _c : (_b = props.formatLabel) == null ? void 0 : _b.call(props, optionInfo.raw);\n        }\n      }\n      return (_d = data == null ? void 0 : data.label) != null ? _d : \"\";\n    };\n    return () => createVNode(Trigger, mergeProps({\n      \"trigger\": \"click\",\n      \"position\": \"bl\",\n      \"popupOffset\": 4,\n      \"animationName\": \"slide-dynamic-origin\",\n      \"hideEmpty\": true,\n      \"preventFocus\": true,\n      \"autoFitPopupWidth\": true,\n      \"autoFitTransformOrigin\": true,\n      \"disabled\": mergedDisabled.value,\n      \"popupVisible\": computedPopupVisible.value,\n      \"unmountOnClose\": props.unmountOnClose,\n      \"clickToClose\": !(props.allowSearch || props.allowCreate),\n      \"popupContainer\": props.popupContainer,\n      \"onPopupVisibleChange\": handlePopupVisibleChange\n    }, props.triggerProps), {\n      default: () => {\n        var _a, _b;\n        return [(_b = (_a = slots.trigger) == null ? void 0 : _a.call(slots)) != null ? _b : createVNode(SelectView, mergeProps({\n          \"class\": prefixCls,\n          \"modelValue\": selectViewValue.value,\n          \"inputValue\": computedInputValue.value,\n          \"multiple\": props.multiple,\n          \"disabled\": mergedDisabled.value,\n          \"error\": mergedError.value,\n          \"loading\": props.loading,\n          \"allowClear\": props.allowClear,\n          \"allowCreate\": props.allowCreate,\n          \"allowSearch\": Boolean(props.allowSearch),\n          \"opened\": computedPopupVisible.value,\n          \"maxTagCount\": props.maxTagCount,\n          \"placeholder\": props.placeholder,\n          \"bordered\": props.bordered,\n          \"size\": mergedSize.value,\n          \"tagNowrap\": props.tagNowrap,\n          \"onInputValueChange\": handleInputValueChange,\n          \"onRemove\": handleRemove,\n          \"onClear\": handleClear,\n          \"onKeydown\": handleKeyDown\n        }, attrs), {\n          \"label\": renderLabel,\n          \"prefix\": slots.prefix,\n          \"arrow-icon\": slots[\"arrow-icon\"],\n          \"loading-icon\": slots[\"loading-icon\"],\n          \"search-icon\": slots[\"search-icon\"]\n        })];\n      },\n      content: renderDropDown\n    });\n  }\n});\nexport { _Select as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","defineComponent","toRefs","computed","ref","watch","nextTick","watchEffect","createVNode","mergeProps","isVNode","getPrefixCls","isUndefined","isObject","isFunction","isArray","isNumber","isString","isBoolean","isNull","isEmptyObject","getKeyFromValue","isGroupOptionInfo","isValidOption","hasEmptyStringKey","Trigger","SelectView","SelectDropdown","Option","Optgroup","VirtualList","useSelect","useTrigger","useFormItem","debounce","_isSlot","s","toString","DEFAULT_FIELD_NAMES","label","disabled","tagProps","render","_Select","name","components","inheritAttrs","props","multiple","type","Boolean","default","modelValue","String","Number","Array","defaultValue","inputValue","defaultInputValue","size","placeholder","loading","error","allowClear","allowSearch","allowCreate","maxTagCount","popupContainer","bordered","defaultActiveFirstOption","popupVisible","defaultPopupVisible","unmountOnClose","filterOption","Function","options","virtualListProps","triggerProps","formatLabel","fallbackOption","showExtraOptions","valueKey","searchDelay","limit","fieldNames","scrollbar","showHeaderOnEmpty","showFooterOnEmpty","tagNowrap","emits","visible","ev","removed","exceedLimit","setup","slots","emit","attrs","prefixCls","mergedSize","mergedDisabled","mergedError","eventHandlers","component","retainInputValue","data","optionInfo","optionInfoMap","get","dropdownRef","optionRefs","virtualListRef","computedPopupVisible","handlePopupVisibleChange","_value","computedValueObjects","_a","mergedValue","valueArray","map","computedValueKeys","mergedFieldNames","_selectedOption","getRawOptionFromValueKeys","valueKeys","optionMap","forEach","updateSelectedOption","getFallBackOption","getExtraValueData","keyArray","item","includes","origin","push","computedInputValue","extraValueObjects","extraOptions","extraOptionRawInfo","valueData","length","i","_inputValue","updateInputValue","getValueFromValueKeys","_b","_a2","_b2","updateValue","onChange","handleSelect","enabledOptionKeys","info","concat","filter","_key","handleSearch","handleInputValueChange","handleRemove","newKeys","handleClear","e","stopPropagation","handleDropdownScroll","handleDropdownReachBottom","validOptions","validOptionInfos","handleKeyDown","onSelect","onPopupVisibleChange","selectViewValue","result","closable","getOptionContentFunc","option","optionSlot","raw","renderOption","_slot","child","ref2","$el","renderDropDown","virtual-list","empty","header","footer","renderLabel","_c","_d","trigger","prefix","content"],"sources":["D:/Java/dadale/dadale-frontend/node_modules/@arco-design/web-vue/es/select/select.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nimport { defineComponent, toRefs, computed, ref, watch, nextTick, watchEffect, createVNode, mergeProps, isVNode } from \"vue\";\nimport { getPrefixCls } from \"../_utils/global-config.js\";\nimport { isUndefined, isObject, isFunction, isArray, isNumber, isString, isBoolean, isNull, isEmptyObject } from \"../_utils/is.js\";\nimport { getKeyFromValue, isGroupOptionInfo, isValidOption, hasEmptyStringKey } from \"./utils.js\";\nimport Trigger from \"../trigger/index.js\";\nimport SelectView from \"../_components/select-view/select-view.js\";\nimport SelectDropdown from \"./select-dropdown.js\";\nimport Option from \"./option.js\";\nimport Optgroup from \"./optgroup.js\";\nimport VirtualList from \"../_components/virtual-list-v2/virtual-list.js\";\nimport { useSelect } from \"./hooks/use-select.js\";\nimport { useTrigger } from \"../_hooks/use-trigger.js\";\nimport { useFormItem } from \"../_hooks/use-form-item.js\";\nimport { debounce } from \"../_utils/debounce.js\";\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nconst DEFAULT_FIELD_NAMES = {\n  value: \"value\",\n  label: \"label\",\n  disabled: \"disabled\",\n  tagProps: \"tagProps\",\n  render: \"render\"\n};\nvar _Select = defineComponent({\n  name: \"Select\",\n  components: {\n    Trigger,\n    SelectView\n  },\n  inheritAttrs: false,\n  props: {\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    modelValue: {\n      type: [String, Number, Boolean, Object, Array],\n      default: void 0\n    },\n    defaultValue: {\n      type: [String, Number, Boolean, Object, Array],\n      default: (props) => isUndefined(props.multiple) ? \"\" : []\n    },\n    inputValue: {\n      type: String\n    },\n    defaultInputValue: {\n      type: String,\n      default: \"\"\n    },\n    size: {\n      type: String\n    },\n    placeholder: String,\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    error: {\n      type: Boolean,\n      default: false\n    },\n    allowClear: {\n      type: Boolean,\n      default: false\n    },\n    allowSearch: {\n      type: [Boolean, Object],\n      default: (props) => Boolean(props.multiple)\n    },\n    allowCreate: {\n      type: Boolean,\n      default: false\n    },\n    maxTagCount: {\n      type: Number,\n      default: 0\n    },\n    popupContainer: {\n      type: [String, Object]\n    },\n    bordered: {\n      type: Boolean,\n      default: true\n    },\n    defaultActiveFirstOption: {\n      type: Boolean,\n      default: true\n    },\n    popupVisible: {\n      type: Boolean,\n      default: void 0\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    unmountOnClose: {\n      type: Boolean,\n      default: false\n    },\n    filterOption: {\n      type: [Boolean, Function],\n      default: true\n    },\n    options: {\n      type: Array,\n      default: () => []\n    },\n    virtualListProps: {\n      type: Object\n    },\n    triggerProps: {\n      type: Object\n    },\n    formatLabel: {\n      type: Function\n    },\n    fallbackOption: {\n      type: [Boolean, Function],\n      default: true\n    },\n    showExtraOptions: {\n      type: Boolean,\n      default: true\n    },\n    valueKey: {\n      type: String,\n      default: \"value\"\n    },\n    searchDelay: {\n      type: Number,\n      default: 500\n    },\n    limit: {\n      type: Number,\n      default: 0\n    },\n    fieldNames: {\n      type: Object\n    },\n    scrollbar: {\n      type: [Boolean, Object],\n      default: true\n    },\n    showHeaderOnEmpty: {\n      type: Boolean,\n      default: false\n    },\n    showFooterOnEmpty: {\n      type: Boolean,\n      default: false\n    },\n    tagNowrap: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: {\n    \"update:modelValue\": (value) => true,\n    \"update:inputValue\": (inputValue) => true,\n    \"update:popupVisible\": (visible) => true,\n    \"change\": (value) => true,\n    \"inputValueChange\": (inputValue) => true,\n    \"popupVisibleChange\": (visible) => true,\n    \"clear\": (ev) => true,\n    \"remove\": (removed) => true,\n    \"search\": (inputValue) => true,\n    \"dropdownScroll\": (ev) => true,\n    \"dropdownReachBottom\": (ev) => true,\n    \"exceedLimit\": (value, ev) => true\n  },\n  setup(props, {\n    slots,\n    emit,\n    attrs\n  }) {\n    const {\n      size,\n      disabled,\n      error,\n      options,\n      filterOption,\n      valueKey,\n      multiple,\n      popupVisible,\n      defaultPopupVisible,\n      showExtraOptions,\n      modelValue,\n      fieldNames,\n      loading,\n      defaultActiveFirstOption\n    } = toRefs(props);\n    const prefixCls = getPrefixCls(\"select\");\n    const {\n      mergedSize,\n      mergedDisabled,\n      mergedError,\n      eventHandlers\n    } = useFormItem({\n      size,\n      disabled,\n      error\n    });\n    const component = computed(() => props.virtualListProps ? \"div\" : \"li\");\n    const retainInputValue = computed(() => isObject(props.allowSearch) && Boolean(props.allowSearch.retainInputValue));\n    computed(() => {\n      if (isFunction(props.formatLabel)) {\n        return (data) => {\n          const optionInfo = optionInfoMap.get(data.value);\n          return props.formatLabel(optionInfo);\n        };\n      }\n      return void 0;\n    });\n    const dropdownRef = ref();\n    const optionRefs = ref({});\n    const virtualListRef = ref();\n    const {\n      computedPopupVisible,\n      handlePopupVisibleChange\n    } = useTrigger({\n      popupVisible,\n      defaultPopupVisible,\n      emit\n    });\n    const _value = ref(props.defaultValue);\n    const computedValueObjects = computed(() => {\n      var _a;\n      const mergedValue = (_a = props.modelValue) != null ? _a : _value.value;\n      const valueArray = isArray(mergedValue) ? mergedValue : mergedValue || isNumber(mergedValue) || isString(mergedValue) || isBoolean(mergedValue) ? [mergedValue] : [];\n      return valueArray.map((value) => ({\n        value,\n        key: getKeyFromValue(value, props.valueKey)\n      }));\n    });\n    watch(modelValue, (value) => {\n      if (isUndefined(value) || isNull(value)) {\n        _value.value = multiple.value ? [] : value;\n      }\n    });\n    const computedValueKeys = computed(() => computedValueObjects.value.map((obj) => obj.key));\n    const mergedFieldNames = computed(() => __spreadValues(__spreadValues({}, DEFAULT_FIELD_NAMES), fieldNames == null ? void 0 : fieldNames.value));\n    const _selectedOption = ref();\n    const getRawOptionFromValueKeys = (valueKeys) => {\n      const optionMap = {};\n      valueKeys.forEach((key) => {\n        optionMap[key] = optionInfoMap.get(key);\n      });\n      return optionMap;\n    };\n    const updateSelectedOption = (valueKeys) => {\n      _selectedOption.value = getRawOptionFromValueKeys(valueKeys);\n    };\n    const getFallBackOption = (value) => {\n      if (isFunction(props.fallbackOption)) {\n        return props.fallbackOption(value);\n      }\n      return {\n        [mergedFieldNames.value.value]: value,\n        [mergedFieldNames.value.label]: String(isObject(value) ? value[valueKey == null ? void 0 : valueKey.value] : value)\n      };\n    };\n    const getExtraValueData = () => {\n      const valueArray = [];\n      const keyArray = [];\n      if (props.allowCreate || props.fallbackOption) {\n        for (const item of computedValueObjects.value) {\n          if (!keyArray.includes(item.key) && item.value !== \"\") {\n            const optionInfo = optionInfoMap.get(item.key);\n            if (!optionInfo || optionInfo.origin === \"extraOptions\") {\n              valueArray.push(item);\n              keyArray.push(item.key);\n            }\n          }\n        }\n      }\n      if (props.allowCreate && computedInputValue.value) {\n        const key = getKeyFromValue(computedInputValue.value);\n        if (!keyArray.includes(key)) {\n          const optionInfo = optionInfoMap.get(key);\n          if (!optionInfo || optionInfo.origin === \"extraOptions\") {\n            valueArray.push({\n              value: computedInputValue.value,\n              key\n            });\n          }\n        }\n      }\n      return valueArray;\n    };\n    const extraValueObjects = ref([]);\n    const extraOptions = computed(() => extraValueObjects.value.map((obj) => {\n      var _a;\n      let optionInfo = getFallBackOption(obj.value);\n      const extraOptionRawInfo = (_a = _selectedOption.value) == null ? void 0 : _a[obj.key];\n      if (!isUndefined(extraOptionRawInfo) && !isEmptyObject(extraOptionRawInfo)) {\n        optionInfo = __spreadValues(__spreadValues({}, optionInfo), extraOptionRawInfo);\n      }\n      return optionInfo;\n    }));\n    nextTick(() => {\n      watchEffect(() => {\n        var _a;\n        const valueData = getExtraValueData();\n        if (valueData.length !== extraValueObjects.value.length) {\n          extraValueObjects.value = valueData;\n        } else if (valueData.length > 0) {\n          for (let i = 0; i < valueData.length; i++) {\n            if (valueData[i].key !== ((_a = extraValueObjects.value[i]) == null ? void 0 : _a.key)) {\n              extraValueObjects.value = valueData;\n              break;\n            }\n          }\n        }\n      });\n    });\n    const _inputValue = ref(\"\");\n    const computedInputValue = computed(() => {\n      var _a;\n      return (_a = props.inputValue) != null ? _a : _inputValue.value;\n    });\n    watch(computedPopupVisible, (visible) => {\n      if (!visible && !retainInputValue.value && computedInputValue.value) {\n        updateInputValue(\"\");\n      }\n    });\n    const getValueFromValueKeys = (valueKeys) => {\n      var _a, _b;\n      if (!props.multiple) {\n        return (_b = (_a = optionInfoMap.get(valueKeys[0])) == null ? void 0 : _a.value) != null ? _b : hasEmptyStringKey(optionInfoMap) ? void 0 : \"\";\n      }\n      return valueKeys.map((key) => {\n        var _a2, _b2;\n        return (_b2 = (_a2 = optionInfoMap.get(key)) == null ? void 0 : _a2.value) != null ? _b2 : \"\";\n      });\n    };\n    const updateValue = (valueKeys) => {\n      var _a, _b;\n      const value = getValueFromValueKeys(valueKeys);\n      _value.value = value;\n      emit(\"update:modelValue\", value);\n      emit(\"change\", value);\n      (_b = (_a = eventHandlers.value) == null ? void 0 : _a.onChange) == null ? void 0 : _b.call(_a);\n      updateSelectedOption(valueKeys);\n    };\n    const updateInputValue = (inputValue) => {\n      _inputValue.value = inputValue;\n      emit(\"update:inputValue\", inputValue);\n      emit(\"inputValueChange\", inputValue);\n    };\n    const handleSelect = (key, ev) => {\n      if (props.multiple) {\n        if (!computedValueKeys.value.includes(key)) {\n          if (enabledOptionKeys.value.includes(key)) {\n            if (props.limit > 0 && computedValueKeys.value.length >= props.limit) {\n              const info = optionInfoMap.get(key);\n              emit(\"exceedLimit\", info == null ? void 0 : info.value, ev);\n            } else {\n              const valueKeys = computedValueKeys.value.concat(key);\n              updateValue(valueKeys);\n            }\n          }\n        } else {\n          const valueKeys = computedValueKeys.value.filter((_key) => _key !== key);\n          updateValue(valueKeys);\n        }\n        if (!retainInputValue.value) {\n          updateInputValue(\"\");\n        }\n      } else {\n        if (key !== computedValueKeys.value[0]) {\n          updateValue([key]);\n        }\n        if (retainInputValue.value) {\n          const optionInfo = optionInfoMap.get(key);\n          if (optionInfo) {\n            updateInputValue(optionInfo.label);\n          }\n        }\n        handlePopupVisibleChange(false);\n      }\n    };\n    const handleSearch = debounce((value) => {\n      emit(\"search\", value);\n    }, props.searchDelay);\n    const handleInputValueChange = (inputValue) => {\n      if (inputValue !== computedInputValue.value) {\n        if (!computedPopupVisible.value) {\n          handlePopupVisibleChange(true);\n        }\n        updateInputValue(inputValue);\n        if (props.allowSearch) {\n          handleSearch(inputValue);\n        }\n      }\n    };\n    const handleRemove = (key) => {\n      const optionInfo = optionInfoMap.get(key);\n      const newKeys = computedValueKeys.value.filter((_key) => _key !== key);\n      updateValue(newKeys);\n      emit(\"remove\", optionInfo == null ? void 0 : optionInfo.value);\n    };\n    const handleClear = (e) => {\n      e == null ? void 0 : e.stopPropagation();\n      const newKeys = computedValueKeys.value.filter((key) => {\n        var _a;\n        return (_a = optionInfoMap.get(key)) == null ? void 0 : _a.disabled;\n      });\n      updateValue(newKeys);\n      updateInputValue(\"\");\n      emit(\"clear\", e);\n    };\n    const handleDropdownScroll = (e) => {\n      emit(\"dropdownScroll\", e);\n    };\n    const handleDropdownReachBottom = (e) => {\n      emit(\"dropdownReachBottom\", e);\n    };\n    const {\n      validOptions,\n      optionInfoMap,\n      validOptionInfos,\n      enabledOptionKeys,\n      handleKeyDown\n    } = useSelect({\n      multiple,\n      options,\n      extraOptions,\n      inputValue: computedInputValue,\n      filterOption,\n      showExtraOptions,\n      component,\n      valueKey,\n      fieldNames,\n      loading,\n      popupVisible: computedPopupVisible,\n      valueKeys: computedValueKeys,\n      dropdownRef,\n      optionRefs,\n      virtualListRef,\n      defaultActiveFirstOption,\n      onSelect: handleSelect,\n      onPopupVisibleChange: handlePopupVisibleChange\n    });\n    const selectViewValue = computed(() => {\n      var _a;\n      const result = [];\n      for (const item of computedValueObjects.value) {\n        const optionInfo = optionInfoMap.get(item.key);\n        if (optionInfo) {\n          result.push(__spreadProps(__spreadValues({}, optionInfo), {\n            value: item.key,\n            label: (_a = optionInfo == null ? void 0 : optionInfo.label) != null ? _a : String(isObject(item.value) ? item.value[valueKey == null ? void 0 : valueKey.value] : item.value),\n            closable: !(optionInfo == null ? void 0 : optionInfo.disabled),\n            tagProps: optionInfo == null ? void 0 : optionInfo.tagProps\n          }));\n        }\n      }\n      return result;\n    });\n    const getOptionContentFunc = (optionInfo) => {\n      if (isFunction(slots.option)) {\n        const optionSlot = slots.option;\n        return () => optionSlot({\n          data: optionInfo.raw\n        });\n      }\n      if (isFunction(optionInfo.render)) {\n        return optionInfo.render;\n      }\n      return () => optionInfo.label;\n    };\n    const renderOption = (optionInfo) => {\n      if (isGroupOptionInfo(optionInfo)) {\n        let _slot;\n        return createVNode(Optgroup, {\n          \"key\": optionInfo.key,\n          \"label\": optionInfo.label\n        }, _isSlot(_slot = optionInfo.options.map((child) => renderOption(child))) ? _slot : {\n          default: () => [_slot]\n        });\n      }\n      if (!isValidOption(optionInfo, {\n        inputValue: computedInputValue.value,\n        filterOption: filterOption == null ? void 0 : filterOption.value\n      })) {\n        return null;\n      }\n      return createVNode(Option, {\n        \"ref\": (ref2) => {\n          if (ref2 == null ? void 0 : ref2.$el) {\n            optionRefs.value[optionInfo.key] = ref2.$el;\n          }\n        },\n        \"key\": optionInfo.key,\n        \"value\": optionInfo.value,\n        \"label\": optionInfo.label,\n        \"disabled\": optionInfo.disabled,\n        \"internal\": true\n      }, {\n        default: getOptionContentFunc(optionInfo)\n      });\n    };\n    const renderDropDown = () => {\n      return createVNode(SelectDropdown, {\n        \"ref\": dropdownRef,\n        \"loading\": props.loading,\n        \"empty\": validOptionInfos.value.length === 0,\n        \"virtualList\": Boolean(props.virtualListProps),\n        \"scrollbar\": props.scrollbar,\n        \"showHeaderOnEmpty\": props.showHeaderOnEmpty,\n        \"showFooterOnEmpty\": props.showFooterOnEmpty,\n        \"onScroll\": handleDropdownScroll,\n        \"onReachBottom\": handleDropdownReachBottom\n      }, {\n        \"default\": () => {\n          var _a, _b;\n          return [...(_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : [], ...validOptions.value.map(renderOption)];\n        },\n        \"virtual-list\": () => createVNode(VirtualList, mergeProps(props.virtualListProps, {\n          \"ref\": virtualListRef,\n          \"data\": validOptions.value\n        }), {\n          item: ({\n            item\n          }) => renderOption(item)\n        }),\n        \"empty\": slots.empty,\n        \"header\": slots.header,\n        \"footer\": slots.footer\n      });\n    };\n    const renderLabel = ({\n      data\n    }) => {\n      var _a, _b, _c, _d;\n      if ((slots.label || isFunction(props.formatLabel)) && data) {\n        const optionInfo = optionInfoMap.get(data.value);\n        if (optionInfo == null ? void 0 : optionInfo.raw) {\n          return (_c = (_a = slots.label) == null ? void 0 : _a.call(slots, {\n            data: optionInfo.raw\n          })) != null ? _c : (_b = props.formatLabel) == null ? void 0 : _b.call(props, optionInfo.raw);\n        }\n      }\n      return (_d = data == null ? void 0 : data.label) != null ? _d : \"\";\n    };\n    return () => createVNode(Trigger, mergeProps({\n      \"trigger\": \"click\",\n      \"position\": \"bl\",\n      \"popupOffset\": 4,\n      \"animationName\": \"slide-dynamic-origin\",\n      \"hideEmpty\": true,\n      \"preventFocus\": true,\n      \"autoFitPopupWidth\": true,\n      \"autoFitTransformOrigin\": true,\n      \"disabled\": mergedDisabled.value,\n      \"popupVisible\": computedPopupVisible.value,\n      \"unmountOnClose\": props.unmountOnClose,\n      \"clickToClose\": !(props.allowSearch || props.allowCreate),\n      \"popupContainer\": props.popupContainer,\n      \"onPopupVisibleChange\": handlePopupVisibleChange\n    }, props.triggerProps), {\n      default: () => {\n        var _a, _b;\n        return [(_b = (_a = slots.trigger) == null ? void 0 : _a.call(slots)) != null ? _b : createVNode(SelectView, mergeProps({\n          \"class\": prefixCls,\n          \"modelValue\": selectViewValue.value,\n          \"inputValue\": computedInputValue.value,\n          \"multiple\": props.multiple,\n          \"disabled\": mergedDisabled.value,\n          \"error\": mergedError.value,\n          \"loading\": props.loading,\n          \"allowClear\": props.allowClear,\n          \"allowCreate\": props.allowCreate,\n          \"allowSearch\": Boolean(props.allowSearch),\n          \"opened\": computedPopupVisible.value,\n          \"maxTagCount\": props.maxTagCount,\n          \"placeholder\": props.placeholder,\n          \"bordered\": props.bordered,\n          \"size\": mergedSize.value,\n          \"tagNowrap\": props.tagNowrap,\n          \"onInputValueChange\": handleInputValueChange,\n          \"onRemove\": handleRemove,\n          \"onClear\": handleClear,\n          \"onKeydown\": handleKeyDown\n        }, attrs), {\n          \"label\": renderLabel,\n          \"prefix\": slots.prefix,\n          \"arrow-icon\": slots[\"arrow-icon\"],\n          \"loading-icon\": slots[\"loading-icon\"],\n          \"search-icon\": slots[\"search-icon\"]\n        })];\n      },\n      content: renderDropDown\n    });\n  }\n});\nexport { _Select as default };\n"],"mappings":";;;;;AAAA,IAAIA,SAAS,GAAGC,MAAM,CAACC,cAAc;AACrC,IAAIC,UAAU,GAAGF,MAAM,CAACG,gBAAgB;AACxC,IAAIC,iBAAiB,GAAGJ,MAAM,CAACK,yBAAyB;AACxD,IAAIC,mBAAmB,GAAGN,MAAM,CAACO,qBAAqB;AACtD,IAAIC,YAAY,GAAGR,MAAM,CAACS,SAAS,CAACC,cAAc;AAClD,IAAIC,YAAY,GAAGX,MAAM,CAACS,SAAS,CAACG,oBAAoB;AACxD,IAAIC,eAAe,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAKD,GAAG,IAAID,GAAG,GAAGf,SAAS,CAACe,GAAG,EAAEC,GAAG,EAAE;EAAEE,UAAU,EAAE,IAAI;EAAEC,YAAY,EAAE,IAAI;EAAEC,QAAQ,EAAE,IAAI;EAAEH;AAAM,CAAC,CAAC,GAAGF,GAAG,CAACC,GAAG,CAAC,GAAGC,KAAK;AAC/J,IAAII,cAAc,GAAGA,CAACC,CAAC,EAAEC,CAAC,KAAK;EAC7B,KAAK,IAAIC,IAAI,IAAID,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,EAC5B,IAAId,YAAY,CAACgB,IAAI,CAACF,CAAC,EAAEC,IAAI,CAAC,EAC5BV,eAAe,CAACQ,CAAC,EAAEE,IAAI,EAAED,CAAC,CAACC,IAAI,CAAC,CAAC;EACrC,IAAIjB,mBAAmB,EACrB,KAAK,IAAIiB,IAAI,IAAIjB,mBAAmB,CAACgB,CAAC,CAAC,EAAE;IACvC,IAAIX,YAAY,CAACa,IAAI,CAACF,CAAC,EAAEC,IAAI,CAAC,EAC5BV,eAAe,CAACQ,CAAC,EAAEE,IAAI,EAAED,CAAC,CAACC,IAAI,CAAC,CAAC;EACrC;EACF,OAAOF,CAAC;AACV,CAAC;AACD,IAAII,aAAa,GAAGA,CAACJ,CAAC,EAAEC,CAAC,KAAKpB,UAAU,CAACmB,CAAC,EAAEjB,iBAAiB,CAACkB,CAAC,CAAC,CAAC;AACjE,SAASI,eAAe,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,GAAG,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,WAAW,EAAEC,UAAU,EAAEC,OAAO,QAAQ,KAAK;AAC5H,SAASC,YAAY,QAAQ,4BAA4B;AACzD,SAASC,WAAW,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,OAAO,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,aAAa,QAAQ,iBAAiB;AAClI,SAASC,eAAe,EAAEC,iBAAiB,EAAEC,aAAa,EAAEC,iBAAiB,QAAQ,YAAY;AACjG,OAAOC,OAAO,MAAM,qBAAqB;AACzC,OAAOC,UAAU,MAAM,2CAA2C;AAClE,OAAOC,cAAc,MAAM,sBAAsB;AACjD,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,QAAQ,MAAM,eAAe;AACpC,OAAOC,WAAW,MAAM,gDAAgD;AACxE,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,UAAU,QAAQ,0BAA0B;AACrD,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,OAAOA,CAACC,CAAC,EAAE;EAClB,OAAO,OAAOA,CAAC,KAAK,UAAU,IAAI7D,MAAM,CAACS,SAAS,CAACqD,QAAQ,CAACtC,IAAI,CAACqC,CAAC,CAAC,KAAK,iBAAiB,IAAI,CAAC1B,OAAO,CAAC0B,CAAC,CAAC;AAC1G;AACA,MAAME,mBAAmB,GAAG;EAC1B/C,KAAK,EAAE,OAAO;EACdgD,KAAK,EAAE,OAAO;EACdC,QAAQ,EAAE,UAAU;EACpBC,QAAQ,EAAE,UAAU;EACpBC,MAAM,EAAE;AACV,CAAC;AACD,IAAIC,OAAO,GAAG1C,eAAe,CAAC;EAC5B2C,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE;IACVpB,OAAO;IACPC;EACF,CAAC;EACDoB,YAAY,EAAE,KAAK;EACnBC,KAAK,EAAE;IACLC,QAAQ,EAAE;MACRC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDC,UAAU,EAAE;MACVH,IAAI,EAAE,CAACI,MAAM,EAAEC,MAAM,EAAEJ,OAAO,EAAE3E,MAAM,EAAEgF,KAAK,CAAC;MAC9CJ,OAAO,EAAE,KAAK;IAChB,CAAC;IACDK,YAAY,EAAE;MACZP,IAAI,EAAE,CAACI,MAAM,EAAEC,MAAM,EAAEJ,OAAO,EAAE3E,MAAM,EAAEgF,KAAK,CAAC;MAC9CJ,OAAO,EAAGJ,KAAK,IAAKnC,WAAW,CAACmC,KAAK,CAACC,QAAQ,CAAC,GAAG,EAAE,GAAG;IACzD,CAAC;IACDS,UAAU,EAAE;MACVR,IAAI,EAAEI;IACR,CAAC;IACDK,iBAAiB,EAAE;MACjBT,IAAI,EAAEI,MAAM;MACZF,OAAO,EAAE;IACX,CAAC;IACDQ,IAAI,EAAE;MACJV,IAAI,EAAEI;IACR,CAAC;IACDO,WAAW,EAAEP,MAAM;IACnBQ,OAAO,EAAE;MACPZ,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDX,QAAQ,EAAE;MACRS,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDW,KAAK,EAAE;MACLb,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDY,UAAU,EAAE;MACVd,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDa,WAAW,EAAE;MACXf,IAAI,EAAE,CAACC,OAAO,EAAE3E,MAAM,CAAC;MACvB4E,OAAO,EAAGJ,KAAK,IAAKG,OAAO,CAACH,KAAK,CAACC,QAAQ;IAC5C,CAAC;IACDiB,WAAW,EAAE;MACXhB,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDe,WAAW,EAAE;MACXjB,IAAI,EAAEK,MAAM;MACZH,OAAO,EAAE;IACX,CAAC;IACDgB,cAAc,EAAE;MACdlB,IAAI,EAAE,CAACI,MAAM,EAAE9E,MAAM;IACvB,CAAC;IACD6F,QAAQ,EAAE;MACRnB,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDkB,wBAAwB,EAAE;MACxBpB,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDmB,YAAY,EAAE;MACZrB,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE,KAAK;IAChB,CAAC;IACDoB,mBAAmB,EAAE;MACnBtB,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDqB,cAAc,EAAE;MACdvB,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDsB,YAAY,EAAE;MACZxB,IAAI,EAAE,CAACC,OAAO,EAAEwB,QAAQ,CAAC;MACzBvB,OAAO,EAAE;IACX,CAAC;IACDwB,OAAO,EAAE;MACP1B,IAAI,EAAEM,KAAK;MACXJ,OAAO,EAAEA,CAAA,KAAM;IACjB,CAAC;IACDyB,gBAAgB,EAAE;MAChB3B,IAAI,EAAE1E;IACR,CAAC;IACDsG,YAAY,EAAE;MACZ5B,IAAI,EAAE1E;IACR,CAAC;IACDuG,WAAW,EAAE;MACX7B,IAAI,EAAEyB;IACR,CAAC;IACDK,cAAc,EAAE;MACd9B,IAAI,EAAE,CAACC,OAAO,EAAEwB,QAAQ,CAAC;MACzBvB,OAAO,EAAE;IACX,CAAC;IACD6B,gBAAgB,EAAE;MAChB/B,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACD8B,QAAQ,EAAE;MACRhC,IAAI,EAAEI,MAAM;MACZF,OAAO,EAAE;IACX,CAAC;IACD+B,WAAW,EAAE;MACXjC,IAAI,EAAEK,MAAM;MACZH,OAAO,EAAE;IACX,CAAC;IACDgC,KAAK,EAAE;MACLlC,IAAI,EAAEK,MAAM;MACZH,OAAO,EAAE;IACX,CAAC;IACDiC,UAAU,EAAE;MACVnC,IAAI,EAAE1E;IACR,CAAC;IACD8G,SAAS,EAAE;MACTpC,IAAI,EAAE,CAACC,OAAO,EAAE3E,MAAM,CAAC;MACvB4E,OAAO,EAAE;IACX,CAAC;IACDmC,iBAAiB,EAAE;MACjBrC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDoC,iBAAiB,EAAE;MACjBtC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX,CAAC;IACDqC,SAAS,EAAE;MACTvC,IAAI,EAAEC,OAAO;MACbC,OAAO,EAAE;IACX;EACF,CAAC;EACDsC,KAAK,EAAE;IACL,mBAAmB,EAAGlG,KAAK,IAAK,IAAI;IACpC,mBAAmB,EAAGkE,UAAU,IAAK,IAAI;IACzC,qBAAqB,EAAGiC,OAAO,IAAK,IAAI;IACxC,QAAQ,EAAGnG,KAAK,IAAK,IAAI;IACzB,kBAAkB,EAAGkE,UAAU,IAAK,IAAI;IACxC,oBAAoB,EAAGiC,OAAO,IAAK,IAAI;IACvC,OAAO,EAAGC,EAAE,IAAK,IAAI;IACrB,QAAQ,EAAGC,OAAO,IAAK,IAAI;IAC3B,QAAQ,EAAGnC,UAAU,IAAK,IAAI;IAC9B,gBAAgB,EAAGkC,EAAE,IAAK,IAAI;IAC9B,qBAAqB,EAAGA,EAAE,IAAK,IAAI;IACnC,aAAa,EAAEE,CAACtG,KAAK,EAAEoG,EAAE,KAAK;EAChC,CAAC;EACDG,KAAKA,CAAC/C,KAAK,EAAE;IACXgD,KAAK;IACLC,IAAI;IACJC;EACF,CAAC,EAAE;IACD,MAAM;MACJtC,IAAI;MACJnB,QAAQ;MACRsB,KAAK;MACLa,OAAO;MACPF,YAAY;MACZQ,QAAQ;MACRjC,QAAQ;MACRsB,YAAY;MACZC,mBAAmB;MACnBS,gBAAgB;MAChB5B,UAAU;MACVgC,UAAU;MACVvB,OAAO;MACPQ;IACF,CAAC,GAAGnE,MAAM,CAAC6C,KAAK,CAAC;IACjB,MAAMmD,SAAS,GAAGvF,YAAY,CAAC,QAAQ,CAAC;IACxC,MAAM;MACJwF,UAAU;MACVC,cAAc;MACdC,WAAW;MACXC;IACF,CAAC,GAAGrE,WAAW,CAAC;MACd0B,IAAI;MACJnB,QAAQ;MACRsB;IACF,CAAC,CAAC;IACF,MAAMyC,SAAS,GAAGpG,QAAQ,CAAC,MAAM4C,KAAK,CAAC6B,gBAAgB,GAAG,KAAK,GAAG,IAAI,CAAC;IACvE,MAAM4B,gBAAgB,GAAGrG,QAAQ,CAAC,MAAMU,QAAQ,CAACkC,KAAK,CAACiB,WAAW,CAAC,IAAId,OAAO,CAACH,KAAK,CAACiB,WAAW,CAACwC,gBAAgB,CAAC,CAAC;IACnHrG,QAAQ,CAAC,MAAM;MACb,IAAIW,UAAU,CAACiC,KAAK,CAAC+B,WAAW,CAAC,EAAE;QACjC,OAAQ2B,IAAI,IAAK;UACf,MAAMC,UAAU,GAAGC,aAAa,CAACC,GAAG,CAACH,IAAI,CAAClH,KAAK,CAAC;UAChD,OAAOwD,KAAK,CAAC+B,WAAW,CAAC4B,UAAU,CAAC;QACtC,CAAC;MACH;MACA,OAAO,KAAK,CAAC;IACf,CAAC,CAAC;IACF,MAAMG,WAAW,GAAGzG,GAAG,CAAC,CAAC;IACzB,MAAM0G,UAAU,GAAG1G,GAAG,CAAC,CAAC,CAAC,CAAC;IAC1B,MAAM2G,cAAc,GAAG3G,GAAG,CAAC,CAAC;IAC5B,MAAM;MACJ4G,oBAAoB;MACpBC;IACF,CAAC,GAAGjF,UAAU,CAAC;MACbsC,YAAY;MACZC,mBAAmB;MACnByB;IACF,CAAC,CAAC;IACF,MAAMkB,MAAM,GAAG9G,GAAG,CAAC2C,KAAK,CAACS,YAAY,CAAC;IACtC,MAAM2D,oBAAoB,GAAGhH,QAAQ,CAAC,MAAM;MAC1C,IAAIiH,EAAE;MACN,MAAMC,WAAW,GAAG,CAACD,EAAE,GAAGrE,KAAK,CAACK,UAAU,KAAK,IAAI,GAAGgE,EAAE,GAAGF,MAAM,CAAC3H,KAAK;MACvE,MAAM+H,UAAU,GAAGvG,OAAO,CAACsG,WAAW,CAAC,GAAGA,WAAW,GAAGA,WAAW,IAAIrG,QAAQ,CAACqG,WAAW,CAAC,IAAIpG,QAAQ,CAACoG,WAAW,CAAC,IAAInG,SAAS,CAACmG,WAAW,CAAC,GAAG,CAACA,WAAW,CAAC,GAAG,EAAE;MACpK,OAAOC,UAAU,CAACC,GAAG,CAAEhI,KAAK,KAAM;QAChCA,KAAK;QACLD,GAAG,EAAE+B,eAAe,CAAC9B,KAAK,EAAEwD,KAAK,CAACkC,QAAQ;MAC5C,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;IACF5E,KAAK,CAAC+C,UAAU,EAAG7D,KAAK,IAAK;MAC3B,IAAIqB,WAAW,CAACrB,KAAK,CAAC,IAAI4B,MAAM,CAAC5B,KAAK,CAAC,EAAE;QACvC2H,MAAM,CAAC3H,KAAK,GAAGyD,QAAQ,CAACzD,KAAK,GAAG,EAAE,GAAGA,KAAK;MAC5C;IACF,CAAC,CAAC;IACF,MAAMiI,iBAAiB,GAAGrH,QAAQ,CAAC,MAAMgH,oBAAoB,CAAC5H,KAAK,CAACgI,GAAG,CAAElI,GAAG,IAAKA,GAAG,CAACC,GAAG,CAAC,CAAC;IAC1F,MAAMmI,gBAAgB,GAAGtH,QAAQ,CAAC,MAAMR,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAE2C,mBAAmB,CAAC,EAAE8C,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAAC7F,KAAK,CAAC,CAAC;IAChJ,MAAMmI,eAAe,GAAGtH,GAAG,CAAC,CAAC;IAC7B,MAAMuH,yBAAyB,GAAIC,SAAS,IAAK;MAC/C,MAAMC,SAAS,GAAG,CAAC,CAAC;MACpBD,SAAS,CAACE,OAAO,CAAExI,GAAG,IAAK;QACzBuI,SAAS,CAACvI,GAAG,CAAC,GAAGqH,aAAa,CAACC,GAAG,CAACtH,GAAG,CAAC;MACzC,CAAC,CAAC;MACF,OAAOuI,SAAS;IAClB,CAAC;IACD,MAAME,oBAAoB,GAAIH,SAAS,IAAK;MAC1CF,eAAe,CAACnI,KAAK,GAAGoI,yBAAyB,CAACC,SAAS,CAAC;IAC9D,CAAC;IACD,MAAMI,iBAAiB,GAAIzI,KAAK,IAAK;MACnC,IAAIuB,UAAU,CAACiC,KAAK,CAACgC,cAAc,CAAC,EAAE;QACpC,OAAOhC,KAAK,CAACgC,cAAc,CAACxF,KAAK,CAAC;MACpC;MACA,OAAO;QACL,CAACkI,gBAAgB,CAAClI,KAAK,CAACA,KAAK,GAAGA,KAAK;QACrC,CAACkI,gBAAgB,CAAClI,KAAK,CAACgD,KAAK,GAAGc,MAAM,CAACxC,QAAQ,CAACtB,KAAK,CAAC,GAAGA,KAAK,CAAC0F,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAAC1F,KAAK,CAAC,GAAGA,KAAK;MACpH,CAAC;IACH,CAAC;IACD,MAAM0I,iBAAiB,GAAGA,CAAA,KAAM;MAC9B,MAAMX,UAAU,GAAG,EAAE;MACrB,MAAMY,QAAQ,GAAG,EAAE;MACnB,IAAInF,KAAK,CAACkB,WAAW,IAAIlB,KAAK,CAACgC,cAAc,EAAE;QAC7C,KAAK,MAAMoD,IAAI,IAAIhB,oBAAoB,CAAC5H,KAAK,EAAE;UAC7C,IAAI,CAAC2I,QAAQ,CAACE,QAAQ,CAACD,IAAI,CAAC7I,GAAG,CAAC,IAAI6I,IAAI,CAAC5I,KAAK,KAAK,EAAE,EAAE;YACrD,MAAMmH,UAAU,GAAGC,aAAa,CAACC,GAAG,CAACuB,IAAI,CAAC7I,GAAG,CAAC;YAC9C,IAAI,CAACoH,UAAU,IAAIA,UAAU,CAAC2B,MAAM,KAAK,cAAc,EAAE;cACvDf,UAAU,CAACgB,IAAI,CAACH,IAAI,CAAC;cACrBD,QAAQ,CAACI,IAAI,CAACH,IAAI,CAAC7I,GAAG,CAAC;YACzB;UACF;QACF;MACF;MACA,IAAIyD,KAAK,CAACkB,WAAW,IAAIsE,kBAAkB,CAAChJ,KAAK,EAAE;QACjD,MAAMD,GAAG,GAAG+B,eAAe,CAACkH,kBAAkB,CAAChJ,KAAK,CAAC;QACrD,IAAI,CAAC2I,QAAQ,CAACE,QAAQ,CAAC9I,GAAG,CAAC,EAAE;UAC3B,MAAMoH,UAAU,GAAGC,aAAa,CAACC,GAAG,CAACtH,GAAG,CAAC;UACzC,IAAI,CAACoH,UAAU,IAAIA,UAAU,CAAC2B,MAAM,KAAK,cAAc,EAAE;YACvDf,UAAU,CAACgB,IAAI,CAAC;cACd/I,KAAK,EAAEgJ,kBAAkB,CAAChJ,KAAK;cAC/BD;YACF,CAAC,CAAC;UACJ;QACF;MACF;MACA,OAAOgI,UAAU;IACnB,CAAC;IACD,MAAMkB,iBAAiB,GAAGpI,GAAG,CAAC,EAAE,CAAC;IACjC,MAAMqI,YAAY,GAAGtI,QAAQ,CAAC,MAAMqI,iBAAiB,CAACjJ,KAAK,CAACgI,GAAG,CAAElI,GAAG,IAAK;MACvE,IAAI+H,EAAE;MACN,IAAIV,UAAU,GAAGsB,iBAAiB,CAAC3I,GAAG,CAACE,KAAK,CAAC;MAC7C,MAAMmJ,kBAAkB,GAAG,CAACtB,EAAE,GAAGM,eAAe,CAACnI,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG6H,EAAE,CAAC/H,GAAG,CAACC,GAAG,CAAC;MACtF,IAAI,CAACsB,WAAW,CAAC8H,kBAAkB,CAAC,IAAI,CAACtH,aAAa,CAACsH,kBAAkB,CAAC,EAAE;QAC1EhC,UAAU,GAAG/G,cAAc,CAACA,cAAc,CAAC,CAAC,CAAC,EAAE+G,UAAU,CAAC,EAAEgC,kBAAkB,CAAC;MACjF;MACA,OAAOhC,UAAU;IACnB,CAAC,CAAC,CAAC;IACHpG,QAAQ,CAAC,MAAM;MACbC,WAAW,CAAC,MAAM;QAChB,IAAI6G,EAAE;QACN,MAAMuB,SAAS,GAAGV,iBAAiB,CAAC,CAAC;QACrC,IAAIU,SAAS,CAACC,MAAM,KAAKJ,iBAAiB,CAACjJ,KAAK,CAACqJ,MAAM,EAAE;UACvDJ,iBAAiB,CAACjJ,KAAK,GAAGoJ,SAAS;QACrC,CAAC,MAAM,IAAIA,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;UAC/B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,SAAS,CAACC,MAAM,EAAEC,CAAC,EAAE,EAAE;YACzC,IAAIF,SAAS,CAACE,CAAC,CAAC,CAACvJ,GAAG,MAAM,CAAC8H,EAAE,GAAGoB,iBAAiB,CAACjJ,KAAK,CAACsJ,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGzB,EAAE,CAAC9H,GAAG,CAAC,EAAE;cACtFkJ,iBAAiB,CAACjJ,KAAK,GAAGoJ,SAAS;cACnC;YACF;UACF;QACF;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IACF,MAAMG,WAAW,GAAG1I,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAMmI,kBAAkB,GAAGpI,QAAQ,CAAC,MAAM;MACxC,IAAIiH,EAAE;MACN,OAAO,CAACA,EAAE,GAAGrE,KAAK,CAACU,UAAU,KAAK,IAAI,GAAG2D,EAAE,GAAG0B,WAAW,CAACvJ,KAAK;IACjE,CAAC,CAAC;IACFc,KAAK,CAAC2G,oBAAoB,EAAGtB,OAAO,IAAK;MACvC,IAAI,CAACA,OAAO,IAAI,CAACc,gBAAgB,CAACjH,KAAK,IAAIgJ,kBAAkB,CAAChJ,KAAK,EAAE;QACnEwJ,gBAAgB,CAAC,EAAE,CAAC;MACtB;IACF,CAAC,CAAC;IACF,MAAMC,qBAAqB,GAAIpB,SAAS,IAAK;MAC3C,IAAIR,EAAE,EAAE6B,EAAE;MACV,IAAI,CAAClG,KAAK,CAACC,QAAQ,EAAE;QACnB,OAAO,CAACiG,EAAE,GAAG,CAAC7B,EAAE,GAAGT,aAAa,CAACC,GAAG,CAACgB,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGR,EAAE,CAAC7H,KAAK,KAAK,IAAI,GAAG0J,EAAE,GAAGzH,iBAAiB,CAACmF,aAAa,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE;MAChJ;MACA,OAAOiB,SAAS,CAACL,GAAG,CAAEjI,GAAG,IAAK;QAC5B,IAAI4J,GAAG,EAAEC,GAAG;QACZ,OAAO,CAACA,GAAG,GAAG,CAACD,GAAG,GAAGvC,aAAa,CAACC,GAAG,CAACtH,GAAG,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG4J,GAAG,CAAC3J,KAAK,KAAK,IAAI,GAAG4J,GAAG,GAAG,EAAE;MAC/F,CAAC,CAAC;IACJ,CAAC;IACD,MAAMC,WAAW,GAAIxB,SAAS,IAAK;MACjC,IAAIR,EAAE,EAAE6B,EAAE;MACV,MAAM1J,KAAK,GAAGyJ,qBAAqB,CAACpB,SAAS,CAAC;MAC9CV,MAAM,CAAC3H,KAAK,GAAGA,KAAK;MACpByG,IAAI,CAAC,mBAAmB,EAAEzG,KAAK,CAAC;MAChCyG,IAAI,CAAC,QAAQ,EAAEzG,KAAK,CAAC;MACrB,CAAC0J,EAAE,GAAG,CAAC7B,EAAE,GAAGd,aAAa,CAAC/G,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG6H,EAAE,CAACiC,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGJ,EAAE,CAAClJ,IAAI,CAACqH,EAAE,CAAC;MAC/FW,oBAAoB,CAACH,SAAS,CAAC;IACjC,CAAC;IACD,MAAMmB,gBAAgB,GAAItF,UAAU,IAAK;MACvCqF,WAAW,CAACvJ,KAAK,GAAGkE,UAAU;MAC9BuC,IAAI,CAAC,mBAAmB,EAAEvC,UAAU,CAAC;MACrCuC,IAAI,CAAC,kBAAkB,EAAEvC,UAAU,CAAC;IACtC,CAAC;IACD,MAAM6F,YAAY,GAAGA,CAAChK,GAAG,EAAEqG,EAAE,KAAK;MAChC,IAAI5C,KAAK,CAACC,QAAQ,EAAE;QAClB,IAAI,CAACwE,iBAAiB,CAACjI,KAAK,CAAC6I,QAAQ,CAAC9I,GAAG,CAAC,EAAE;UAC1C,IAAIiK,iBAAiB,CAAChK,KAAK,CAAC6I,QAAQ,CAAC9I,GAAG,CAAC,EAAE;YACzC,IAAIyD,KAAK,CAACoC,KAAK,GAAG,CAAC,IAAIqC,iBAAiB,CAACjI,KAAK,CAACqJ,MAAM,IAAI7F,KAAK,CAACoC,KAAK,EAAE;cACpE,MAAMqE,IAAI,GAAG7C,aAAa,CAACC,GAAG,CAACtH,GAAG,CAAC;cACnC0G,IAAI,CAAC,aAAa,EAAEwD,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACjK,KAAK,EAAEoG,EAAE,CAAC;YAC7D,CAAC,MAAM;cACL,MAAMiC,SAAS,GAAGJ,iBAAiB,CAACjI,KAAK,CAACkK,MAAM,CAACnK,GAAG,CAAC;cACrD8J,WAAW,CAACxB,SAAS,CAAC;YACxB;UACF;QACF,CAAC,MAAM;UACL,MAAMA,SAAS,GAAGJ,iBAAiB,CAACjI,KAAK,CAACmK,MAAM,CAAEC,IAAI,IAAKA,IAAI,KAAKrK,GAAG,CAAC;UACxE8J,WAAW,CAACxB,SAAS,CAAC;QACxB;QACA,IAAI,CAACpB,gBAAgB,CAACjH,KAAK,EAAE;UAC3BwJ,gBAAgB,CAAC,EAAE,CAAC;QACtB;MACF,CAAC,MAAM;QACL,IAAIzJ,GAAG,KAAKkI,iBAAiB,CAACjI,KAAK,CAAC,CAAC,CAAC,EAAE;UACtC6J,WAAW,CAAC,CAAC9J,GAAG,CAAC,CAAC;QACpB;QACA,IAAIkH,gBAAgB,CAACjH,KAAK,EAAE;UAC1B,MAAMmH,UAAU,GAAGC,aAAa,CAACC,GAAG,CAACtH,GAAG,CAAC;UACzC,IAAIoH,UAAU,EAAE;YACdqC,gBAAgB,CAACrC,UAAU,CAACnE,KAAK,CAAC;UACpC;QACF;QACA0E,wBAAwB,CAAC,KAAK,CAAC;MACjC;IACF,CAAC;IACD,MAAM2C,YAAY,GAAG1H,QAAQ,CAAE3C,KAAK,IAAK;MACvCyG,IAAI,CAAC,QAAQ,EAAEzG,KAAK,CAAC;IACvB,CAAC,EAAEwD,KAAK,CAACmC,WAAW,CAAC;IACrB,MAAM2E,sBAAsB,GAAIpG,UAAU,IAAK;MAC7C,IAAIA,UAAU,KAAK8E,kBAAkB,CAAChJ,KAAK,EAAE;QAC3C,IAAI,CAACyH,oBAAoB,CAACzH,KAAK,EAAE;UAC/B0H,wBAAwB,CAAC,IAAI,CAAC;QAChC;QACA8B,gBAAgB,CAACtF,UAAU,CAAC;QAC5B,IAAIV,KAAK,CAACiB,WAAW,EAAE;UACrB4F,YAAY,CAACnG,UAAU,CAAC;QAC1B;MACF;IACF,CAAC;IACD,MAAMqG,YAAY,GAAIxK,GAAG,IAAK;MAC5B,MAAMoH,UAAU,GAAGC,aAAa,CAACC,GAAG,CAACtH,GAAG,CAAC;MACzC,MAAMyK,OAAO,GAAGvC,iBAAiB,CAACjI,KAAK,CAACmK,MAAM,CAAEC,IAAI,IAAKA,IAAI,KAAKrK,GAAG,CAAC;MACtE8J,WAAW,CAACW,OAAO,CAAC;MACpB/D,IAAI,CAAC,QAAQ,EAAEU,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACnH,KAAK,CAAC;IAChE,CAAC;IACD,MAAMyK,WAAW,GAAIC,CAAC,IAAK;MACzBA,CAAC,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,CAAC,CAACC,eAAe,CAAC,CAAC;MACxC,MAAMH,OAAO,GAAGvC,iBAAiB,CAACjI,KAAK,CAACmK,MAAM,CAAEpK,GAAG,IAAK;QACtD,IAAI8H,EAAE;QACN,OAAO,CAACA,EAAE,GAAGT,aAAa,CAACC,GAAG,CAACtH,GAAG,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG8H,EAAE,CAAC5E,QAAQ;MACrE,CAAC,CAAC;MACF4G,WAAW,CAACW,OAAO,CAAC;MACpBhB,gBAAgB,CAAC,EAAE,CAAC;MACpB/C,IAAI,CAAC,OAAO,EAAEiE,CAAC,CAAC;IAClB,CAAC;IACD,MAAME,oBAAoB,GAAIF,CAAC,IAAK;MAClCjE,IAAI,CAAC,gBAAgB,EAAEiE,CAAC,CAAC;IAC3B,CAAC;IACD,MAAMG,yBAAyB,GAAIH,CAAC,IAAK;MACvCjE,IAAI,CAAC,qBAAqB,EAAEiE,CAAC,CAAC;IAChC,CAAC;IACD,MAAM;MACJI,YAAY;MACZ1D,aAAa;MACb2D,gBAAgB;MAChBf,iBAAiB;MACjBgB;IACF,CAAC,GAAGxI,SAAS,CAAC;MACZiB,QAAQ;MACR2B,OAAO;MACP8D,YAAY;MACZhF,UAAU,EAAE8E,kBAAkB;MAC9B9D,YAAY;MACZO,gBAAgB;MAChBuB,SAAS;MACTtB,QAAQ;MACRG,UAAU;MACVvB,OAAO;MACPS,YAAY,EAAE0C,oBAAoB;MAClCY,SAAS,EAAEJ,iBAAiB;MAC5BX,WAAW;MACXC,UAAU;MACVC,cAAc;MACd1C,wBAAwB;MACxBmG,QAAQ,EAAElB,YAAY;MACtBmB,oBAAoB,EAAExD;IACxB,CAAC,CAAC;IACF,MAAMyD,eAAe,GAAGvK,QAAQ,CAAC,MAAM;MACrC,IAAIiH,EAAE;MACN,MAAMuD,MAAM,GAAG,EAAE;MACjB,KAAK,MAAMxC,IAAI,IAAIhB,oBAAoB,CAAC5H,KAAK,EAAE;QAC7C,MAAMmH,UAAU,GAAGC,aAAa,CAACC,GAAG,CAACuB,IAAI,CAAC7I,GAAG,CAAC;QAC9C,IAAIoH,UAAU,EAAE;UACdiE,MAAM,CAACrC,IAAI,CAACtI,aAAa,CAACL,cAAc,CAAC,CAAC,CAAC,EAAE+G,UAAU,CAAC,EAAE;YACxDnH,KAAK,EAAE4I,IAAI,CAAC7I,GAAG;YACfiD,KAAK,EAAE,CAAC6E,EAAE,GAAGV,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACnE,KAAK,KAAK,IAAI,GAAG6E,EAAE,GAAG/D,MAAM,CAACxC,QAAQ,CAACsH,IAAI,CAAC5I,KAAK,CAAC,GAAG4I,IAAI,CAAC5I,KAAK,CAAC0F,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAAC1F,KAAK,CAAC,GAAG4I,IAAI,CAAC5I,KAAK,CAAC;YAC9KqL,QAAQ,EAAE,EAAElE,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAAClE,QAAQ,CAAC;YAC9DC,QAAQ,EAAEiE,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACjE;UACrD,CAAC,CAAC,CAAC;QACL;MACF;MACA,OAAOkI,MAAM;IACf,CAAC,CAAC;IACF,MAAME,oBAAoB,GAAInE,UAAU,IAAK;MAC3C,IAAI5F,UAAU,CAACiF,KAAK,CAAC+E,MAAM,CAAC,EAAE;QAC5B,MAAMC,UAAU,GAAGhF,KAAK,CAAC+E,MAAM;QAC/B,OAAO,MAAMC,UAAU,CAAC;UACtBtE,IAAI,EAAEC,UAAU,CAACsE;QACnB,CAAC,CAAC;MACJ;MACA,IAAIlK,UAAU,CAAC4F,UAAU,CAAChE,MAAM,CAAC,EAAE;QACjC,OAAOgE,UAAU,CAAChE,MAAM;MAC1B;MACA,OAAO,MAAMgE,UAAU,CAACnE,KAAK;IAC/B,CAAC;IACD,MAAM0I,YAAY,GAAIvE,UAAU,IAAK;MACnC,IAAIpF,iBAAiB,CAACoF,UAAU,CAAC,EAAE;QACjC,IAAIwE,KAAK;QACT,OAAO1K,WAAW,CAACqB,QAAQ,EAAE;UAC3B,KAAK,EAAE6E,UAAU,CAACpH,GAAG;UACrB,OAAO,EAAEoH,UAAU,CAACnE;QACtB,CAAC,EAAEJ,OAAO,CAAC+I,KAAK,GAAGxE,UAAU,CAAC/B,OAAO,CAAC4C,GAAG,CAAE4D,KAAK,IAAKF,YAAY,CAACE,KAAK,CAAC,CAAC,CAAC,GAAGD,KAAK,GAAG;UACnF/H,OAAO,EAAEA,CAAA,KAAM,CAAC+H,KAAK;QACvB,CAAC,CAAC;MACJ;MACA,IAAI,CAAC3J,aAAa,CAACmF,UAAU,EAAE;QAC7BjD,UAAU,EAAE8E,kBAAkB,CAAChJ,KAAK;QACpCkF,YAAY,EAAEA,YAAY,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,YAAY,CAAClF;MAC7D,CAAC,CAAC,EAAE;QACF,OAAO,IAAI;MACb;MACA,OAAOiB,WAAW,CAACoB,MAAM,EAAE;QACzB,KAAK,EAAGwJ,IAAI,IAAK;UACf,IAAIA,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACC,GAAG,EAAE;YACpCvE,UAAU,CAACvH,KAAK,CAACmH,UAAU,CAACpH,GAAG,CAAC,GAAG8L,IAAI,CAACC,GAAG;UAC7C;QACF,CAAC;QACD,KAAK,EAAE3E,UAAU,CAACpH,GAAG;QACrB,OAAO,EAAEoH,UAAU,CAACnH,KAAK;QACzB,OAAO,EAAEmH,UAAU,CAACnE,KAAK;QACzB,UAAU,EAAEmE,UAAU,CAAClE,QAAQ;QAC/B,UAAU,EAAE;MACd,CAAC,EAAE;QACDW,OAAO,EAAE0H,oBAAoB,CAACnE,UAAU;MAC1C,CAAC,CAAC;IACJ,CAAC;IACD,MAAM4E,cAAc,GAAGA,CAAA,KAAM;MAC3B,OAAO9K,WAAW,CAACmB,cAAc,EAAE;QACjC,KAAK,EAAEkF,WAAW;QAClB,SAAS,EAAE9D,KAAK,CAACc,OAAO;QACxB,OAAO,EAAEyG,gBAAgB,CAAC/K,KAAK,CAACqJ,MAAM,KAAK,CAAC;QAC5C,aAAa,EAAE1F,OAAO,CAACH,KAAK,CAAC6B,gBAAgB,CAAC;QAC9C,WAAW,EAAE7B,KAAK,CAACsC,SAAS;QAC5B,mBAAmB,EAAEtC,KAAK,CAACuC,iBAAiB;QAC5C,mBAAmB,EAAEvC,KAAK,CAACwC,iBAAiB;QAC5C,UAAU,EAAE4E,oBAAoB;QAChC,eAAe,EAAEC;MACnB,CAAC,EAAE;QACD,SAAS,EAAEjH,CAAA,KAAM;UACf,IAAIiE,EAAE,EAAE6B,EAAE;UACV,OAAO,CAAC,IAAG,CAACA,EAAE,GAAG,CAAC7B,EAAE,GAAGrB,KAAK,CAAC5C,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGiE,EAAE,CAACrH,IAAI,CAACgG,KAAK,CAAC,KAAK,IAAI,GAAGkD,EAAE,GAAG,EAAE,GAAE,GAAGoB,YAAY,CAAC9K,KAAK,CAACgI,GAAG,CAAC0D,YAAY,CAAC,CAAC;QACtI,CAAC;QACD,cAAc,EAAEM,CAAA,KAAM/K,WAAW,CAACsB,WAAW,EAAErB,UAAU,CAACsC,KAAK,CAAC6B,gBAAgB,EAAE;UAChF,KAAK,EAAEmC,cAAc;UACrB,MAAM,EAAEsD,YAAY,CAAC9K;QACvB,CAAC,CAAC,EAAE;UACF4I,IAAI,EAAEA,CAAC;YACLA;UACF,CAAC,KAAK8C,YAAY,CAAC9C,IAAI;QACzB,CAAC,CAAC;QACF,OAAO,EAAEpC,KAAK,CAACyF,KAAK;QACpB,QAAQ,EAAEzF,KAAK,CAAC0F,MAAM;QACtB,QAAQ,EAAE1F,KAAK,CAAC2F;MAClB,CAAC,CAAC;IACJ,CAAC;IACD,MAAMC,WAAW,GAAGA,CAAC;MACnBlF;IACF,CAAC,KAAK;MACJ,IAAIW,EAAE,EAAE6B,EAAE,EAAE2C,EAAE,EAAEC,EAAE;MAClB,IAAI,CAAC9F,KAAK,CAACxD,KAAK,IAAIzB,UAAU,CAACiC,KAAK,CAAC+B,WAAW,CAAC,KAAK2B,IAAI,EAAE;QAC1D,MAAMC,UAAU,GAAGC,aAAa,CAACC,GAAG,CAACH,IAAI,CAAClH,KAAK,CAAC;QAChD,IAAImH,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACsE,GAAG,EAAE;UAChD,OAAO,CAACY,EAAE,GAAG,CAACxE,EAAE,GAAGrB,KAAK,CAACxD,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG6E,EAAE,CAACrH,IAAI,CAACgG,KAAK,EAAE;YAChEU,IAAI,EAAEC,UAAU,CAACsE;UACnB,CAAC,CAAC,KAAK,IAAI,GAAGY,EAAE,GAAG,CAAC3C,EAAE,GAAGlG,KAAK,CAAC+B,WAAW,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGmE,EAAE,CAAClJ,IAAI,CAACgD,KAAK,EAAE2D,UAAU,CAACsE,GAAG,CAAC;QAC/F;MACF;MACA,OAAO,CAACa,EAAE,GAAGpF,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAClE,KAAK,KAAK,IAAI,GAAGsJ,EAAE,GAAG,EAAE;IACpE,CAAC;IACD,OAAO,MAAMrL,WAAW,CAACiB,OAAO,EAAEhB,UAAU,CAAC;MAC3C,SAAS,EAAE,OAAO;MAClB,UAAU,EAAE,IAAI;MAChB,aAAa,EAAE,CAAC;MAChB,eAAe,EAAE,sBAAsB;MACvC,WAAW,EAAE,IAAI;MACjB,cAAc,EAAE,IAAI;MACpB,mBAAmB,EAAE,IAAI;MACzB,wBAAwB,EAAE,IAAI;MAC9B,UAAU,EAAE2F,cAAc,CAAC7G,KAAK;MAChC,cAAc,EAAEyH,oBAAoB,CAACzH,KAAK;MAC1C,gBAAgB,EAAEwD,KAAK,CAACyB,cAAc;MACtC,cAAc,EAAE,EAAEzB,KAAK,CAACiB,WAAW,IAAIjB,KAAK,CAACkB,WAAW,CAAC;MACzD,gBAAgB,EAAElB,KAAK,CAACoB,cAAc;MACtC,sBAAsB,EAAE8C;IAC1B,CAAC,EAAElE,KAAK,CAAC8B,YAAY,CAAC,EAAE;MACtB1B,OAAO,EAAEA,CAAA,KAAM;QACb,IAAIiE,EAAE,EAAE6B,EAAE;QACV,OAAO,CAAC,CAACA,EAAE,GAAG,CAAC7B,EAAE,GAAGrB,KAAK,CAAC+F,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG1E,EAAE,CAACrH,IAAI,CAACgG,KAAK,CAAC,KAAK,IAAI,GAAGkD,EAAE,GAAGzI,WAAW,CAACkB,UAAU,EAAEjB,UAAU,CAAC;UACtH,OAAO,EAAEyF,SAAS;UAClB,YAAY,EAAEwE,eAAe,CAACnL,KAAK;UACnC,YAAY,EAAEgJ,kBAAkB,CAAChJ,KAAK;UACtC,UAAU,EAAEwD,KAAK,CAACC,QAAQ;UAC1B,UAAU,EAAEoD,cAAc,CAAC7G,KAAK;UAChC,OAAO,EAAE8G,WAAW,CAAC9G,KAAK;UAC1B,SAAS,EAAEwD,KAAK,CAACc,OAAO;UACxB,YAAY,EAAEd,KAAK,CAACgB,UAAU;UAC9B,aAAa,EAAEhB,KAAK,CAACkB,WAAW;UAChC,aAAa,EAAEf,OAAO,CAACH,KAAK,CAACiB,WAAW,CAAC;UACzC,QAAQ,EAAEgD,oBAAoB,CAACzH,KAAK;UACpC,aAAa,EAAEwD,KAAK,CAACmB,WAAW;UAChC,aAAa,EAAEnB,KAAK,CAACa,WAAW;UAChC,UAAU,EAAEb,KAAK,CAACqB,QAAQ;UAC1B,MAAM,EAAE+B,UAAU,CAAC5G,KAAK;UACxB,WAAW,EAAEwD,KAAK,CAACyC,SAAS;UAC5B,oBAAoB,EAAEqE,sBAAsB;UAC5C,UAAU,EAAEC,YAAY;UACxB,SAAS,EAAEE,WAAW;UACtB,WAAW,EAAEO;QACf,CAAC,EAAEtE,KAAK,CAAC,EAAE;UACT,OAAO,EAAE0F,WAAW;UACpB,QAAQ,EAAE5F,KAAK,CAACgG,MAAM;UACtB,YAAY,EAAEhG,KAAK,CAAC,YAAY,CAAC;UACjC,cAAc,EAAEA,KAAK,CAAC,cAAc,CAAC;UACrC,aAAa,EAAEA,KAAK,CAAC,aAAa;QACpC,CAAC,CAAC,CAAC;MACL,CAAC;MACDiG,OAAO,EAAEV;IACX,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AACF,SAAS3I,OAAO,IAAIQ,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}